import org.openhab.core.library.types.*
import org.openhab.core.persistence.*
import org.openhab.model.script.actions.*
 
var Number defaultTemp = 22
var Number minTemp = 9

rule "heatingOnWeekdayMornings"
when
        Time cron "0 30 6 ? * MON-FRI"
then
        postUpdate(Heating_Target_Temp, defaultTemp)
end

rule "heatingOffWeekdayMornings"
when
        Time cron "0 0 8 ? * MON-FRI"
then
        postUpdate(Heating_Target_Temp, minTemp)
end

rule "heatingOnWeekdayEvenings"
when
        Time cron "0 30 16 ? * MON-FRI"
then
        postUpdate(Heating_Target_Temp, defaultTemp)
end

rule "heatingOffWeekdayEvenings"
when
        Time cron "0 0 22 ? * MON-FRI"
then
        postUpdate(Heating_Target_Temp, minTemp)
end

rule "heatingOnWeekendMornings"
when
        Time cron "0 30 8 ? * SAT-SUN"
then
        postUpdate(Heating_Target_Temp, defaultTemp)
end

rule "heatingOffWeekendMornings"
when
        Time cron "0 30 10 ? * SAT-SUN"
then
        postUpdate(Heating_Target_Temp, minTemp)
end

rule "heatingOnWeekendEvenings"
when
        Time cron "0 30 16 ? * SAT-SUN"
then
        postUpdate(Heating_Target_Temp, defaultTemp)
end

rule "heatingOffWeekendEvenings"
when
        Time cron "0 30 22 ? * SAT-SUN"
then
        postUpdate(Heating_Target_Temp, minTemp)
end

rule "heatingOffWhenAway"
when
        Item Toggle_Away changed from OFF to ON
then
        postUpdate(Heating_Target_Temp, minTemp)
end

